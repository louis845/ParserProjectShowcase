!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.ParserShowcaseUtils=n():t.ParserShowcaseUtils=n()}(self,(()=>(()=>{"use strict";var t={d:(n,r)=>{for(var e in r)t.o(r,e)&&!t.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:r[e]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{CodeGemma:()=>P,Gemma2:()=>p,InstructionTemplate:()=>r,Llama3:()=>c,Phi3:()=>a,Qwen2:()=>y,Qwen2Coder:()=>g});var r=function(){function t(){}return t.prototype.formatMultiturnPrompts=function(t,n,r){void 0===n&&(n=null),void 0===r&&(r="You are a helpful assistant."),null===n&&(n=r);for(var e="",i=0;i<Math.floor((t.length+1)/2);i++){var u=2*i,p=2*i+1;0==i?this.supportsSystemPrompt()?e+=this.formatFirstPrompt(o(t[u]),o(n)):e+=this.formatFirstPrompt(o(t[u]),null):e+=this.formatPrompt(o(t[u])),p<t.length&&(e+=this.getInstructionTemplateAssistantStart()+o(t[p])+this.getInstructionTemplateAssistantEnd())}return e},t}();function e(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function o(t){return'<span class="text-red-500">'+e(t)+"</span>"}var i,u=(i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},i(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return u(n,t),n.prototype.supportsSystemPrompt=function(){return!1},n.prototype.formatFirstPrompt=function(t,n){if(null!==n)throw new Error("Gemma 2 doesn't support system prompts.");return e("<bos>")+this.formatPrompt(t).substring(1)},n.prototype.formatPrompt=function(t){return e("\n<start_of_turn>user\n")+t+e("<end_of_turn>")},n.prototype.getInstructionTemplateAssistantStart=function(){return e("\n<start_of_turn>model\n")},n.prototype.getInstructionTemplateAssistantEnd=function(){return e("<end_of_turn>")},n}(r),s=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},t(n,r)};return function(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),a=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return s(n,t),n.prototype.supportsSystemPrompt=function(){return!0},n.prototype.formatFirstPrompt=function(t,n){return null===n&&(n="You are a helpful assistant."),e("<s><|system|>\n")+n+e("<|end|>\n<|user|>\n")+t+e("<|end|>")},n.prototype.formatPrompt=function(t){return e("\n<|user|>\n")+t+e("<|end|>")},n.prototype.getInstructionTemplateAssistantStart=function(){return e("\n<|assistant|>\n")},n.prototype.getInstructionTemplateAssistantEnd=function(){return e("<|end|>")},n}(r),f=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},t(n,r)};return function(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return f(n,t),n.prototype.supportsSystemPrompt=function(){return!0},n.prototype.formatFirstPrompt=function(t,n){return null===n&&(n="You are a helpful assistant."),e("<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\n")+n+e("<|eot_id|><|start_header_id|>user<|end_header_id|>\n\n")+t+e("<|eot_id|>")},n.prototype.formatPrompt=function(t){return e("<|start_header_id|>user<|end_header_id|>\n\n")+t+e("<|eot_id|>")},n.prototype.getInstructionTemplateAssistantStart=function(){return e("<|start_header_id|>assistant<|end_header_id|>\n\n")},n.prototype.getInstructionTemplateAssistantEnd=function(){return e("<|eot_id|>")},n}(r),l=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},t(n,r)};return function(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),y=function(t){function n(){return t.call(this)||this}return l(n,t),n.prototype.supportsSystemPrompt=function(){return!0},n.prototype.formatFirstPrompt=function(t,n){return null===n&&(n="You are a helpful assistant."),e("<|im_start|>system\n")+n+e("<|im_end|>\n<|im_start|>user\n")+t+e("<|im_end|>")},n.prototype.formatPrompt=function(t){return e("\n<|im_start|>user\n")+t+e("<|im_end|>")},n.prototype.getInstructionTemplateAssistantStart=function(){return e("\n<|im_start|>assistant\n")},n.prototype.getInstructionTemplateAssistantEnd=function(){return e("<|im_end|>")},n}(r),_=function(){};function d(t){return'<span class="text-blue-500">'+e(t)+"</span>"}function m(t){return'<span class="text-green-500">'+e(t)+"</span>"}var h=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},t(n,r)};return function(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),g=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return h(n,t),n.prototype.getFillPrefix=function(){return e("<|fim_prefix|>")},n.prototype.getFillSuffix=function(){return e("<|fim_suffix|>")},n.prototype.getFillMiddleStart=function(){return e("<|fim_middle|>")},n.prototype.getFillMiddleEnd=function(){return e("<|endoftext|>")},n.prototype.getStartOfSequence=function(){return""},n.prototype.getFileSeparator=function(){return e("<|file_sep|>")},n.prototype.formatFillingObjective=function(t,n,r){var i=this,u="";return null!==r&&(u=e("<|repo_name|>CodeRepo\n"),r.forEach((function(t,n){u+=i.getFileSeparator()+"code_file_".concat(n+1,"\n"),u+=o(t)+"\n"})),u+=this.getFileSeparator()+"code_to_edit\n"),u+=this.getFillPrefix(),u+=d(t),u+=this.getFillSuffix(),u+=m(n),u+=this.getFillMiddleStart()},n}(_),S=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},t(n,r)};return function(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),P=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return S(n,t),n.prototype.getFillPrefix=function(){return e("<|fim_prefix|>")},n.prototype.getFillSuffix=function(){return e("<|fim_suffix|>")},n.prototype.getFillMiddleStart=function(){return e("<|fim_middle|>")},n.prototype.getFillMiddleEnd=function(){return e("<eos>")},n.prototype.getStartOfSequence=function(){return e("<bos>")},n.prototype.getFileSeparator=function(){return e("<|file_separator|>")},n.prototype.formatFillingObjective=function(t,n,r){var e=this.getStartOfSequence();if(null!==r)for(var i=0,u=r;i<u.length;i++){e+=o(u[i]);var p=this.getFileSeparator();if(null===p)throw new Error("Invalid file separator.");e+=p}return e+=this.getFillPrefix(),e+=d(t),e+=this.getFillSuffix(),(e+=m(n))+this.getFillMiddleStart()},n}(_);return n})()));